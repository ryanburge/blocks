---
output:
  github_document
---


```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE, 
  comment = "#>",
  fig.path = "README-"  
)
options(width = 110)
```


### Installation

You can install:

* the latest development version from GitHub with

    ```R
    install.packages("devtools")
    devtools::install_github("ryanburge/blocks/building")
    ```
    
### There are just a handful of functions to building right now 


## Counting Things

I love the functionality of tabyl, but it doesn't take a weight variable. Here's the simple version `ct()`

```{r, warning = FALSE, message = FALSE}
library(tidyverse)
library(building)
cces <- read_csv("https://raw.githubusercontent.com/ryanburge/blocks/master/cces.csv")

cces %>% 
  ct(race)
```

Note that you are presented with a count column and a pct column. 

Let's add weights

```{r, warning = FALSE, message = FALSE}
cces %>% 
  ct(race, commonweight_vv)
```

Notice that it's pipeable. And if you don't include the weight variable then it won't be calculated with a weight. 


## Getting Confidence Intervals

Oftentimes in social science we like to see what our 95% confidence intervals are, but that's a lot of syntax. It's easy with the `mean_ci` function

```{r, warning = FALSE, message = FALSE}
cces %>% 
  mean_ci(gender)
```

The default is a 95% confidence interval. However that can be changed easily. 


```{r, warning = FALSE, message = FALSE}
cces %>% 
  mean_ci(gender, .84)
```


## Simple Mean and Median 

I wanted a simple function to calculate the mean and the median. It takes just one variable and computes both statistics. 

```{r, warning = FALSE, message = FALSE}
money1 <- read_csv("https://raw.githubusercontent.com/ryanburge/pls2003_sp17/master/sal_work.csv")

money1 

money1  %>% 
  mean_med(salary)
```

## Making a quick visualization of a bar chart

I make a lot of really quick bar charts. Too many of them. So if I use the `ct()` function, this moves easily into making a `geom_col()` type bar chart. This gives a percentage annotation at the top of each bar. 

```{r, warning = FALSE, message = FALSE, fig.width= 6, fig.height=4}
a1 <- cces %>% 
  ct(race, commonweight_vv)

gg_col(a1, race, pct)

```

You can easily add the percentages to the top of the bars

```{r, warning = FALSE, message = FALSE, fig.width= 6, fig.height=4}

gg_col(a1, race, pct, add_labels = TRUE)

```

And you can change the font by using a font style that is available on <a href= "fonts.google.com">Google Fonts</a>

```{r, warning = FALSE, message = FALSE, fig.width= 6, fig.height=4}

gg_col(a1, race, pct, "Indie Flower", add_labels = TRUE)

```



* let me know what you think on twitter <a href="https://twitter.com/ryanburge">@ryanburge</a>
